include includes/helpers

doctype html
html(lang="en")
  head
    meta(charset="utf-8")
    title
      if title
        | !{title} - Ximera
      else
        block title
        |  - Ximera
    //
      | This is 
      ▀██▄   ▄██▀ ██ █████     █████ ▄███████████████████▄    ███
        ▀██▄██▀   ██▐██ ▐██   ██▌ ██▌██                 ██▌  ██▀██
          ███     ██▐██  ██▌ ▐██  ██▌▐█████████ ▄████████▀  ██▀ ▀██
        ▄██▀██▄   ██▐██  ▐██ ██▌  ██▌██        ▐█▌  ▀██▄   ██▀   ▀██
      ▄██▀   ▀██▄ ██▐██   ▀███▀   ██▌▀█████████▐█▌    ▀██▄██▀     ▀██

    meta(name="viewport", content="width=device-width, initial-scale=1.0, shrink-to-fit=no")
    meta(name="description",content="Ximera provides the backend technology for online courses")
    meta(name="author", content="The Ximera Project")
    meta(name="keywords", content="mathematics, math, maths, courses, course, education, calculus, complex analysis, algebra, geometry, graphs, plots, MOOC")
    link(href=toValidPath(versionPath("/public/stylesheets/base.css")), rel="stylesheet")

    if xourse && xourse.title
      meta(property="og:title",content=xourse.title)
    else if activity && activity.title
      meta(property="og:title",content=activity.title)      
      
    meta(property="og:url",content=absoluteUrl)
    
    if ogType
      meta(property="og:type",content=ogType)
    
    if description
      meta(property="og:description",content=description)
      
    if logo
      meta(property="og:image",content=logo)
      meta(property="og:image:secure_url",content=logo)      
      //meta(property="og:image:width",content="640")
      //meta(property="og:image:height" content="442")
      
    if stylesheet
      link(rel="stylesheet/less",type="text/css",href=toValidPath(versionPath(stylesheet)))
    script(src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.0/p5.js")
    link(rel="stylesheet",type="text/css",href="https://sagecell.sagemath.org/static/sagecell_embed.css")
    script(type="text/javascript",src="//cdnjs.cloudflare.com/ajax/libs/seedrandom/2.4.3/seedrandom.min.js")
    script(type="text/javascript",src="https://sagecell.sagemath.org/static/embedded_sagecell.js")
    script(type="text/javascript",src=toValidPath(versionPath("/public/javascripts/main.min.js")))

    link(rel="apple-touch-icon",sizes="114x114",href=toValidPath(versionPath("/public/images/icons/favicon-114x114.png")))
    link(rel="apple-touch-icon",sizes="72x72",href=toValidPath(versionPath("/public/images/icons/favicon-72x72.png")))
    link(rel="apple-touch-icon",sizes="57x57",href=toValidPath(versionPath("/public/images/icons/favicon-57x57.png")))
    link(rel="shortcut icon",type="image/x-icon",href=toValidPath("/favicon.ico"))

    script(type="text/javascript").
      window.define = function(dependencies,callback) {
        var currentScript = document.currentScript || (function() {
          var scripts = document.getElementsByTagName('script');
          return scripts[scripts.length - 1];
        })();
        var targetId = currentScript.getAttribute('data-target');
        var parameters = currentScript.getAttribute('data-argument');
      
        (window.interactives = window.interactives || []).push({dependencies: dependencies, callback: callback, targetId: targetId, parameters: parameters});
      };

    script(type="text/javascript").
      // The versions to warn about
      var $buoop = {vs:{i:13,f:-4,o:-4,s:8,c:-4},unsecure:true,api:4}; 
      function $buo_f(){ 
        var e = document.createElement("script"); 
        e.src = "//browser-update.org/update.min.js"; 
        document.body.appendChild(e);
      };
      try {document.addEventListener("DOMContentLoaded", $buo_f,false)}
      catch(e){window.attachEvent("onload", $buo_f)}

    if (!(atOhioState))
      style(type="text/css") .affix-top { top: 0px; }

    if landingPage
      script(type="text/javascript",src=toValidPath(versionPath("/public/javascripts/index.js")))
      
  body
     include navbar/index.pug
     div
       block modals
     //if (atOhioState)
     //include includes/osu
     block content
     include footer/index.pug

